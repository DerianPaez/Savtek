---
import { changeLanguage } from 'i18next'
import Layout from '../layouts/Layout.astro'
import Wrapper from '../components/Wrapper.astro'
import Banner from '../components/Banner.astro'
import Bar from '../components/Bar.astro'
import AboutUs from '../components/AboutUs.astro'
import Services from '../components/Services.astro'
import OurBrands from '../components/OurBrands.astro'
import Testimonials from '../components/Testimonials.astro'
import Advertising from '../components/Advertising.astro'
import Portfolio from '../components/Portfolio.astro'
import Button from '../components/Button.astro'

changeLanguage('en')
---

<Layout title='Welcome to Astro.'>
  <Wrapper>
    <Banner />
    <!-- <Bar /> -->
    <AboutUs />
    <Services />
    <Portfolio />
    <OurBrands />
    <!-- <Testimonials /> -->
    <Advertising />
    <iframe
      src='https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d498.7252924454463!2d-78.48590218808296!3d-0.16216614611037433!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x91d59aa3249dc6df%3A0x14cf10feccb95620!2sGasolinera%20Terpel!5e0!3m2!1ses!2sec!4v1680205092353!5m2!1ses!2sec'
      width='600'
      height='450'
      style='border:0;'
      allowfullscreen=''
      loading='lazy'
      referrerpolicy='no-referrer-when-downgrade'></iframe>

    <Button id='buttonSendGrid' name='Enviar' />
  </Wrapper>
</Layout>

<script>
  import sgMail from '@sendgrid/mail'
  sgMail.setApiKey(
    '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'
  )
  const button = document.getElementById('buttonSendGrid')
  button.addEventListener('click', () => {
    sgMail.send({
      to: 'destinatario@example.com',
      from: 'remitente@example.com',
      subject: 'Asunto del correo electrónico',
      text: 'Contenido del correo electrónico en texto plano',
      html: '<p>Contenido del correo electrónico con formato HTML</p>'
    })
  })
</script>
